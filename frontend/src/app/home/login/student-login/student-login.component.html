<mat-card>
  <mat-card-content>
    <form (ngSubmit)="login()" [formGroup]="loginForm">
      <div fxLayout="column" fxLayoutAlign="space-between center" fxLayoutGap="10px">
        <mat-form-field class="loginFormControl">
          <input #studentIdBox matInput placeholder="学号" formControlName="studentId" [errorStateMatcher]="matcher" [readOnly]="isLoading">
          <mat-error *ngIf="loginForm.get('studentId').hasError('pattern') && !loginForm.get('studentId').hasError('required')">
            请输入无空字符的学号
          </mat-error>
          <mat-error *ngIf="!loginForm.get('studentId').hasError('required') && !loginForm.get('studentId').hasError('maxLength')">
            请输入长度不大于32个字符的学号
          </mat-error>
          <mat-error *ngIf="loginForm.get('studentId').hasError('required')">
            学号是
            <strong>必须</strong>的
          </mat-error>
        </mat-form-field>

        <mat-form-field class="loginFormControl">
          <input matInput placeholder="姓名" formControlName="name" [errorStateMatcher]="matcher" [readOnly]="isLoading">
          <mat-error *ngIf="loginForm.get('name').hasError('pattern') && !loginForm.get('name').hasError('required')">
            请输入无空字符的姓名
          </mat-error>
          <mat-error *ngIf="!loginForm.get('name').hasError('required') && !loginForm.get('name').hasError('maxLength')">
            请输入长度不大于32个字符的姓名
          </mat-error>
          <mat-error *ngIf="loginForm.get('name').hasError('required')">
            姓名是
            <strong>必须</strong>的
          </mat-error>
        </mat-form-field>

        <mat-form-field class="loginFormControl">
          <input matInput placeholder="考试码" formControlName="contestId" [errorStateMatcher]="matcher" [readOnly]="isLoading">
          <mat-error *ngIf="loginForm.get('contestId').hasError('pattern') && !loginForm.get('contestId').hasError('required')">
            请输入数字
          </mat-error>
          <mat-error *ngIf="!loginForm.get('contestId').hasError('required') && (!loginForm.get('contestId').hasError('maxLength') || loginForm.get('contestId').hasError('minLength'))">
            请输入长度为4到63的考试码
          </mat-error>
          <mat-error *ngIf="loginForm.get('contestId').hasError('required')">
            考试码是
            <strong>必须</strong>的
          </mat-error>
        </mat-form-field>

        <button class="loginFormControl" mat-raised-button color="accent" type="submit" [disabled]="loginForm.invalid" *ngIf="!isLoading">登录</button>
        <mat-progress-bar class="loginFormControl" mode="indeterminate" color="accent" *ngIf="isLoading"></mat-progress-bar>
      </div>
    </form>
  </mat-card-content>
</mat-card>
