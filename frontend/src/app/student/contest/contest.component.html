<mat-spinner *ngIf="getIsLoading()" style="margin: 0 auto"></mat-spinner>

<div fxLayout="column" fxLayoutAlign="start stretch" fxLayoutGap="10px" *ngIf="!getIsLoading()">
  <mat-card>
    <mat-card-content>
      <div fxLayout="column" fxLayoutAlign="start center" fxLayoutGap="0px">
        <div fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="20px" fxFlexFill>
          <h5>{{ contestInfo.startTime | date:'yyyy-MM-dd HH:mm:ss' }}</h5>
          <h1>{{ contestInfo.name }}</h1>
          <h5>{{ contestInfo.endTime | date:'yyyy-MM-dd HH:mm:ss' }}</h5>
        </div>
        <mat-progress-bar mode="determinate" [value]="contestProgress"></mat-progress-bar>
        <ng-container [ngSwitch]="contestInfo.state">
          <h5 *ngSwitchCase='0'>未开始</h5>
          <h5 *ngSwitchCase='1'>{{ restTime | date:'HH:mm:ss':'+0000' }}</h5>
          <h5 *ngSwitchCase='2'>已结束</h5>
        </ng-container>
      </div>
    </mat-card-content>
  </mat-card>
  <div fxLayout="row" fxLayoutAlign="space-between stretch" fxLayoutGap="10px">
    <mat-card fxFlex="50%">
      <mat-card-header>
        <mat-card-title>公告</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        {{contestInfo.notice}}
      </mat-card-content>
    </mat-card>
    <mat-card fxFlex="50%">
      <mat-card-header>
        <mat-card-title>试题</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="0px">
          <button mat-button>下载试题</button>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
  <mat-card>
    <mat-card-header>
      <mat-card-title>答题</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <app-contest-submission></app-contest-submission>
    </mat-card-content>
  </mat-card>
</div>
